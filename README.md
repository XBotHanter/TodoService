# TodoService

#Краткое описание:
Микросервис "Управление задачами"(TodoService) представляет собой изолированный, независимо развертываемый программный компонент, разработанный на платформе .NET. 
Его основная функция — предоставление полноценного RESTful API для создания, чтения, обновления и удаления (CRUD) задач (to-do items). 
Сервис абстрагирует логику работы с данными, используя Data Transfer Objects (DTO) для безопасного и эффективного обмена информацией с клиентскими приложениями. 
Данный продукт является готовым строительным блоком, предназначенным для интеграции в более сложные распределенные системы.

#Установка и запуск
Для начала нужно скачать готовый проект TodoService.zip . После чего извлечь его из zip файла.
После этого нужно установить Docker Desktop - его можно будет установить в Microsoft store.
Откройте Докер. В терминале докера нужно прописать эти команды:
docker build -t todo-app .
Эта команда нужна для того,чтобы преобразовать исходники (Dockerfile + код) в готовый продукт (образ)
Потом
docker run -d -p 8080:8080 --name my-todo-app todo-service-api
Эта команда нужна для того,чтобы мы создали контейнер с портом 8080
После ввода этой команды должно произойти 2 вещи:
1)Создаться выше контейнер с именем,который мы задали(в нашем случае это my-todo-app)
2)В консоли после нашей команды вывести ID нашего контейнера(у каждого он будет своим и рандомным):
c36e5df8bcb792002a398c349aa1559ff069f34cec063cae6b85ef800884de10

После создания контейнера нам нужно проверить,правильно ли он сделался.Для этого нам нужно ввести команду,которая показывает наши контейнеры: docker ps
Все данные(CONTAINER ID   IMAGE              COMMAND                  CREATED         STATUS) должны выводиться.
Если у вас,например,в PORTS будет пустой параметр не будет прописан порт),то наш микросервис не сможет обрабатывать запросы

Если у вас все хорошо,то переходите к следующему этапу

#Пример использования
После запуска контейнера в докере мы должны проверить его на частном локальном сервере.Для этого мы должны прописать в браузере ссылку: http://localhost:8080/api/todos
Вы увидите (из интересного) 2 вещи:
1)Автоформатирование 
2)[]
Начнем с объяснения []. В нашем случае это пустой массив (формата json) данных,который мы потом заполним своими задачами.
У нас будет тот же эффект,если мы введем команду для просмотра задач в докере:
Мы видим,что при вводе команды curl http://localhost:8080/api/todos | Select-Object -ExpandProperty Content также выводит [ ].

      Создадим задачу
Для того,чтобы написать задачу в нашем Микросервисе(докере) мы должны прописать 2 команды:
docker exec -it my-todo-app sh
Когда мы попали во внутренний терминал контейнера(показывает #), нам нужно прописать команду,которая уже создаст саму задачу внутри контейнера:
curl -X POST http://localhost:8080/api/todos -H "Content-Type: application/json" -d '{"title":"Тест","description":"Тест"}'
Нам должно в ответ вывести что-то похожее на ответ с созданной задачей (обычно с ID и датами) - это то,как теперь выглядит наша задача.
Для того,чтобы выйти из #,мы прописываем команду exit
Потом мы прописываем еще раз команду curl http://localhost:8080/api/todos | Select-Object -ExpandProperty Content (Напоминание,что эта команда выводит все задачи, а не конкретно какую-то)
в localhost тоже выведится эта задача

      Теперь изменим статус isCompleted
Прописываем в терминал 
docker exec -it my-todo-app sh
Потом
curl -X PUT http://localhost:8080/api/todos/a78f0d5f-87ef-4b2b-800a-7aa0c0d5c5cc -H "Content-Type: application/json" -d "{\"title\":\"Тест\",\"description\":\"Тест\",\"isCompleted\":true}"
Как мы видим,у нас успешно поменялся статус isCompleted с false на true(типо выполнили задачу)
Теперь поменяем название и описание задаче:

      Прописываем в терминал (Напоминание,что код мы пишем в докере)
docker exec -it my-todo-app sh
Потом 
curl -X PUT http://localhost:8080/api/todos/a78f0d5f-87ef-4b2b-800a-7aa0c0d5c5cc -H "Content-Type: application/json" -d "{\"title\":\"Новое название теста\",\"description\":\"Новое описание теста\",\"isCompleted\":true}"
Как мы видим,мы успешно изменили:
"title": "Новое название теста" (Было Тест)
"description": "Новое описание теста" (Было Тест)

      Теперь удалим задачу:
Выводим команду:
docker exec -it my-todo-app sh
Потом:
curl -X DELETE http://localhost:8080/api/todos/ЗАМЕНИ_НА_ID
В нашем случае:
curl -X DELETE http://localhost:8080/api/todos/a78f0d5f-87ef-4b2b-800a-7aa0c0d5c5cc
Потом мы прописываем еще раз команду curl http://localhost:8080/api/todos | Select-Object -ExpandProperty Content (Напоминание,что эта команда выводит все задачи, а не конкретно какую-то)
Можно увидеть,что наш контейнер опять стал пустым([ ]).Следовательно - мы успешно удалили задачу


Если вы поняли,что ничего не поняли,то вот вам моя документация - https://docs.google.com/document/d/1ChvXuIGCnvearXPD11xFJuvwN4ZHZzvEbGabwI5pOZ0/edit?tab=t.ifz2cyevsi1r
#Описание структуры
В репозитории вы увидете 2 файла - README.md и второй(зип с проектом)
в README описание .а в другом сам код.

В папке TodoService находится сам код.
Вот его архитектура:
TodoService/ # Корневая папка решения
├── TodoService.sln # Файл решения
├── .dockerignore # Файл для исключения файлов
├── .gitignore # Стандартный .gitignore для .NET
├── Dockerfile # Инструкции для сборки -образа
├── README.md # Описание проекта
│
├── src/ # Папка с исходным кодом проектов
│        └── TodoService.API/  # Основной проект
│                    ├── Controllers/ # Папка с контроллерами
│                    │        └── TodosController.cs
│                    ├── DTOs/ # Папка с Data Transfer Objects
│                    │        ├── CreateTodoDto.cs
│                    │        ├── UpdateTodoDto.cs
│                    │        └── TodoDto.cs
│                    ├── Profiles/ # Папка с профилями AutoMapper
│                    │        └── TodoProfile.cs
│                    ├── Middleware/ # Папка с пользовательскими Middleware
│                  │        └── ExceptionHandlingMiddleware.cs
│                  ├── Models/ # Папка с основными моделями
│                  │        └── TodoItem.cs
│                  ├── Program.cs # Точка входа приложения (с .NET 6+)
│                  ├── TodoService.API.csproj # Файл проекта API
│                  ├── appsettings.json # Конфигурация приложения
│                  └── appsettings.Production.json # Конфигурация для Production
│
├── tests/ # Папка с тестами
│       └── TodoService.API.Tests/ # Юнит-тесты для API проекта
│             ├── Controllers/
│             │        └── TodosControllerTests.cs
│             ├── Profiles/
│             │        └── TodoProfileTests.cs
│             ├── TodoService.API.Tests.csproj
│             └── UnitTest1.cs
│
└── docker-compose.yml - # Для оркестрации контейнеров

#Технические требования
Требования к программному обеспечению:
Язык программирования: .NET 8 (LTS)
База данных: Поддерживаемая реляционная СУБД (на выбор: PostgreSQL, SQL Server). Конкретный выбор определяется в конфигурации Docker.
Основные библиотеки: AutoMapper, Entity Framework Core, Swashbuckle (Swagger)
Платформа развертывания: Docker Engine версии 23.0.0 и выше.
Требования к информационному обеспечению:
Структура БД должна содержать как минимум таблицу Tasks с полями, соответствующими TaskReadDto.


#Единственный и неповторимый Автор всего этого проекта - Павлицкий Владимир Владимирович
Он сделал и реализовал все - от описания до кода и реализовации

#Куда можете писать - 
vlad@example.ru

